(this["webpackJsonpacorn-react"]=this["webpackJsonpacorn-react"]||[]).push([[6],{1168:function(e,t,c){"use strict";c.r(t);var n=c(7),a=c(15),r=c(6),i=c(4),o=c(1),s=c.n(o),l=c(90),d=c(614),j=c(1092),b=c(613),u=c(1113),O=c(1118),m=c(54),h=c(61),f=c(31),x=c(1154),v=c(1136),p=c(1149),g=c(1151),y=c(1152),N=c(19),w=c.n(N),k=c(30),S=c.n(k),C=c(16),T=c(5),D=c(1112),A=c(1119),M=c(1117),G=c(634),E=c(76),F=c(57),H=c.n(F),I=c(493),R=(c(233),c(0)),P=function(e){var t=e.show,c=void 0!==t&&t,n=e.onHide,a=void 0===n?function(){}:n,u=Object(l.b)(),O=Object(o.useState)(!1),m=Object(i.a)(O,2),h=m[0],x=m[1],v=function(e,t){var c=e&&"string"===typeof e?new Date(e):new Date;return Object(T.a)(Object(T.a)({},"".concat(t,"Date"),c),"".concat(t,"Time"),"".concat(c.getHours().toString().padStart(2,"0"),":").concat(c.getMinutes().toString().padStart(2,"0")))},p=function(e,t){return"".concat(("string"===typeof e?new Date(e):e).toISOString().replace(/T.*$/,""),"T").concat(t,":00")},g=Object(l.c)((function(e){return e.calendar})).selectedEvent,y=Object(o.useState)(Object(r.a)(Object(r.a)(Object(r.a)({},g),v(g.start,"start")),v(g.end,"end"))),N=Object(i.a)(y,2),w=N[0],k=N[1],S=s.a.useMemo((function(){var e=[];return Object(C.a)(Array(24).keys()).map((function(t){return[0,15,30,45].map((function(c){var n="".concat(t.toString().padStart(2,"0"),":").concat(c.toString().padStart(2,"0"));return e.push({value:n,label:n}),c})),t})),e}),[]),F=[{value:"Telefone",label:"Telefone",color:"border-primary"},{value:"WhatsApp",label:"WhatsApp",color:"border-tertiary"},{value:"E-mail",label:"E-mail",color:"border-secondary"}],P=function(){var e=Object(r.a)({},w);delete e.startDate,delete e.startTime,delete e.endDate,delete e.endTime,0!==w.id?u(Object(I.f)(e)):u(Object(I.a)(e)),a()};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(D.a,{className:"modal-right fade",show:c,onHide:a,children:[Object(R.jsx)(D.a.Header,{children:Object(R.jsx)(D.a.Title,{children:0!==g.id?"Editar retorno":"Adicionar retorno"})}),Object(R.jsx)(D.a.Body,{className:"d-flex flex-column",children:Object(R.jsxs)(A.a,{children:[Object(R.jsxs)("div",{className:"mb-3 top-label",children:[Object(R.jsx)(E.a,{classNamePrefix:"react-select",options:F,formatOptionLabel:function(e){var t=e.label,c=e.color;return Object(R.jsxs)("div",{children:[Object(R.jsx)("span",{className:"align-middle d-inline-block option-circle me-2 rounded-xl border ".concat(c)}),Object(R.jsx)("span",{className:"align-middle d-inline-block lh-1",children:t})]})},value:w?F.find((function(e){return e.value===w.category})):"",onChange:function(e){k(Object(r.a)(Object(r.a)({},w),{},{category:e.value}))},placeholder:""}),Object(R.jsx)("span",{children:"TIPO DE CONTATO"})]}),Object(R.jsxs)(j.a,{className:"g-0",children:[Object(R.jsx)(b.a,{className:"pe-2",children:Object(R.jsxs)("div",{className:"mb-3 top-label",children:[Object(R.jsx)(H.a,{className:"form-control",selected:w.startDate,onChange:function(e){return function(e){e&&k(Object(r.a)(Object(r.a)({},w),{},{startDate:e,start:p(e,w.startTime)}))}(e)},showFullMonthYearPicker:!0}),Object(R.jsx)("span",{children:"DATA DO RETORNO"})]})}),Object(R.jsx)("div",{className:"col-auto",children:Object(R.jsxs)("div",{className:"mb-3 top-label sw-12",children:[Object(R.jsx)(E.a,{classNamePrefix:"react-select",options:S,value:{value:w.startTime,label:w.startTime},onChange:function(e){e&&k(Object(r.a)(Object(r.a)({},w),{},{startTime:e.value,start:p(w.start,e.value)}))},placeholder:""}),Object(R.jsx)("span",{children:"HORA"})]})})]})]})}),Object(R.jsx)(D.a.Footer,{children:0!==g.id?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(M.a,{delay:{show:500,hide:0},overlay:Object(R.jsx)(G.a,{children:"Apagar"}),placement:"top",children:Object(R.jsx)(d.a,{variant:"outline-primary",className:"btn-icon btn-icon-only",onClick:function(){x(!0)},children:Object(R.jsx)(f.a,{icon:"bin"})})}),Object(R.jsxs)(d.a,{className:"btn-icon btn-icon-end",onClick:P,children:[Object(R.jsx)("span",{children:"Salvar"})," ",Object(R.jsx)(f.a,{icon:"check"})]})]}):Object(R.jsxs)(d.a,{className:"btn-icon btn-icon-start",onClick:P,children:[Object(R.jsx)(f.a,{icon:"plus"})," ",Object(R.jsx)("span",{children:"Adicionar"})]})})]}),Object(R.jsxs)(D.a,{className:"fade modal-close-out",show:h,children:[Object(R.jsx)(D.a.Header,{children:Object(R.jsx)(D.a.Title,{children:" Confirma\xe7\xe3o"})}),Object(R.jsx)(D.a.Body,{className:"d-flex flex-column",children:Object(R.jsx)("p",{children:Object(R.jsxs)("span",{children:["Tem certeza que deseja apagar o registro"," ",Object(R.jsx)("span",{className:"fw-bold",children:w.title}),"?"]})})}),Object(R.jsxs)(D.a.Footer,{children:[Object(R.jsx)(d.a,{onClick:function(){return x(!1)},children:"N\xe3o"}),Object(R.jsx)(d.a,{variant:"outline-primary",onClick:function(){0!==w.id&&u(Object(I.c)(w.id)),x(!1),a()},children:"Sim"})]})]})]})},W=c(11),z=c(12),K=s.a.forwardRef((function(e,t){var c=e.onClick;return Object(R.jsx)(d.a,{ref:t,size:"sm",variant:"foreground",className:"btn-icon btn-icon-only shadow align-top mt-n2",onClick:function(e){e.preventDefault(),c(e)},children:Object(R.jsx)(f.a,{icon:"more-horizontal","data-cs-size":"15"})})})),V=[{color:"primary",category:"INSS"},{color:"secondary",category:"FGTS"},{color:"tertiary",category:"Outro produto"}];t.default=function(){var e="Calend\xe1rio",t=Object(o.useRef)(null),c=Object(l.b)(),s=Object(l.c)((function(e){return e.calendar})).events,N=Object(l.c)((function(e){return e.settings})).themeValues,k=Object(o.useState)(""),C=Object(i.a)(k,2),T=C[0],D=C[1],A=Object(o.useState)(""),M=Object(i.a)(A,2),G=M[0],E=M[1],F=Object(o.useState)("dayGridMonth"),H=Object(i.a)(F,2),B=H[0],J=H[1],L=Object(o.useState)(!1),q=Object(i.a)(L,2),Y=q[0],$=q[1];Object(o.useEffect)((function(){s.map((function(e){var t=Object(r.a)({},e);if(e.category){var c=V.find((function(t){return t.category===e.category}));c&&(t.color=N[c.color])}return t}));return function(){}}),[s,N]);var Q=function(){var e=Object(a.a)(Object(n.a)().mark((function e(){return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(W.a,"/data/v1/agenda-events"),z.i).then((function(e){console.log(e.data),200===e.status&&D(e.data)})).catch((function(e){return S()("ERRO","".concat(e),"error"),[]}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(o.useEffect)((function(){Q()}),[]);var U=function(e){J(e),t.current&&t.current.getApi().changeView(e)};return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(m.a,{title:e,description:"Leads e clientes com eventos agendados."}),Object(R.jsx)("div",{className:"page-title-container",children:Object(R.jsxs)(j.a,{className:"g-0",children:[Object(R.jsx)(b.a,{xs:"auto",className:"mb-2 mb-md-0 me-auto",children:Object(R.jsxs)("div",{className:"w-auto sw-md-30",children:[Object(R.jsx)("h1",{className:"mb-0 pb-0 display-4",children:e}),Object(R.jsx)(h.a,{items:[{to:"",text:"Home"}]})]})}),Object(R.jsx)("div",{className:"w-100 d-md-none"}),Object(R.jsxs)(b.a,{xs:"auto",className:"d-flex align-items-start justify-content-end",children:[Object(R.jsx)(d.a,{variant:"outline-primary",className:"btn-icon btn-icon-only ms-1",onClick:function(){var e=t.current.getApi();e.prev(),E(e.view.title)},children:Object(R.jsx)(f.a,{icon:"chevron-left"})}),Object(R.jsx)(d.a,{variant:"outline-primary",className:"btn-icon btn-icon-only ms-1",onClick:function(){var e=t.current.getApi();e.next(),E(e.view.title)},children:Object(R.jsx)(f.a,{icon:"chevron-right"})})]}),Object(R.jsx)(b.a,{md:"auto",className:"d-flex align-items-start justify-content-end",children:Object(R.jsxs)(d.a,{variant:"outline-primary",className:"btn-icon btn-icon-start ms-1 w-100 w-md-auto",onClick:function(){try{c(Object(I.e)({id:0,title:"Novo retorno",start:"",end:""})),$(!0)}catch(e){console.log("This action could not be completed")}},children:[Object(R.jsx)(f.a,{icon:"plus"})," ",Object(R.jsx)("span",{children:"Adicionar retorno"})]})})]})}),Object(R.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(R.jsx)("h2",{className:"small-title",children:G}),Object(R.jsxs)(u.a,{children:[Object(R.jsx)(u.a.Toggle,{as:K,id:"dropdown-custom-components"}),Object(R.jsxs)(u.a.Menu,{className:"super-colors shadow dropdown-menu-end",popperConfig:{modifiers:[{name:"offset",options:{offset:[0,5]}},{name:"computeStyles",options:{gpuAcceleration:!1}}]},children:[Object(R.jsx)(u.a.Item,{eventKey:"dayGridMonth",active:"dayGridMonth"===B,onClick:function(){return U("dayGridMonth")},children:"Mensal"}),Object(R.jsx)(u.a.Item,{eventKey:"timeGridWeek",active:"timeGridWeek"===B,onClick:function(){return U("timeGridWeek")},children:"Semanal"}),Object(R.jsx)(u.a.Item,{eventKey:"timeGridDay",active:"timeGridDay"===B,onClick:function(){return U("timeGridDay")},children:"Di\xe1rio"}),Object(R.jsx)(u.a.Divider,{}),Object(R.jsx)(u.a.Item,{eventKey:"today",onClick:function(){t.current&&t.current.getApi().today()},children:"Hoje"})]})]})]}),Object(R.jsx)(O.a,{body:!0,children:Object(R.jsx)(x.a,{ref:t,plugins:[v.b,p.a,g.a,y.a],headerToolbar:!1,initialView:"dayGridMonth",themeSystem:"bootstrap",locale:"pt-br",editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,datesSet:function(e){try{c(Object(I.d)(e.startStr,e.endStr))}catch(t){console.log("This action could not be completed")}},select:function(e){e.view.calendar.unselect();try{c(Object(I.e)({id:0,title:"Novo retorno",start:e.startStr,end:e.endStr})),$(!0)}catch(t){console.log("This action could not be completed")}},events:T,eventContent:function(e){var t=e.timeText,c=e.backgroundColor,n=e.borderColor,a=e.event,r=a.allDay,i=a.title;return r?Object(R.jsx)(R.Fragment,{children:Object(R.jsx)("div",{className:"fc-event-main-frame",children:Object(R.jsx)("div",{className:"fc-event-title-container",children:Object(R.jsx)("div",{className:"fc-event-title fc-sticky",children:i})})})}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)("div",{className:"fc-daygrid-event-dot",style:{backgroundColor:c,borderColor:n}}),Object(R.jsx)("div",{className:"fc-event-time",children:t}),Object(R.jsx)("div",{className:"fc-event-title",children:i})]})},eventClick:function(e){var t=e.event,n=t.id;t.url||(c(Object(I.e)(T.find((function(e){return e.id===n})))),$(!0))},eventChange:function(e){try{var t=e.event.toPlainObject(),n=t.id,a=t.start,r=t.title,i=t.end,o=t.extendedProps;c(Object(I.f)({id:n,start:a,end:i,title:r,category:o.category,color:o.color}))}catch(s){console.log("This action could not be completed"),e.revert()}},viewDidMount:function(e){var t=e.view;E(t.title)},eventTimeFormat:{hour:"2-digit",minute:"2-digit",meridiem:!1}})}),Y&&Object(R.jsx)(P,{show:Y,onHide:function(){$(!1)}})]})}}}]);