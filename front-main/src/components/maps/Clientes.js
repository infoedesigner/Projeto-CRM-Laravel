import React, {useEffect, useState, useRef} from "react";
// eslint-disable-next-line import/no-webpack-loader-syntax
import mapboxgl from '!mapbox-gl';
import './map.css';

// eslint-disable-next-line import/no-extraneous-dependencies
import 'mapbox-gl/dist/mapbox-gl.css';

const MapaClientes = (props) => {

    mapboxgl.accessToken = 'pk.eyJ1IjoiY2NlZiIsImEiOiJjbHcwb2Y4MzEwMzlnMmxwZnB3MHc4cXd4In0.zTqBXwsw7r_RKrqUMs_kKQ';

    const mapContainer = useRef(null);
    const map = useRef(null);
    const [lng, setLng] = useState(-47.882778);
    const [lat, setLat] = useState(-15.793889);
    const [zoom, setZoom] = useState(3);

    const address = [
        [-25.5533256,-49.2702],
        [-3.0529129,-40.167582],
        [-25.0891685,-50.1601812],
        [-20.060536,-47.736875],
        [-25.438004,-49.352858],
        [-23.0686877,-45.5562488],
        [-5.6869628,-43.1037588],
        [-25.4655525,-49.2819134],
        [-25.3831441,-49.2323642],
        [-30.0335043,-51.23119092161977],
        [-29.7336199,-52.4313273],
        [-23.939724,-46.371706],
        [43.88291,10.97608],
        [-23.40239,-46.49705],
        [-23.4990665,-46.6035285],
        [-23.522281,-46.39],
        [-23.6107724,-46.9457654],
        [-24.020865,-46.451492],
        [-23.178727,-46.879403],
        [-22.8888667,-43.2613333],
        [-22.4358561,-48.1664564],
        [-6.073832,-49.880433],
        [-23.700697,-46.570351],
        [-23.700697,-46.570351],
        [-23.488224,-46.724075],
        [-22.52335,-52.172613],
        [-19.945001,-43.999843],
        [-5.4123632,-35.3114532],
        [-22.9777918,-49.868204],
        [-25.2925439,-49.2243472],
        [-23.115479,-51.545836],
        [-25.8806192,-48.5750905],
        [-25.459935,-49.280018],
        [-22.9304971,-52.1523164],
        [-21.2286522,-50.4228888],
        [-23.5234284,-46.1926671],
        [-22.6427642,-43.6533831],
        [-23.197566,-47.876282],
        [-23.501449,-46.477988],
        [47.003809,22.162574],
        [-12.478136,-49.127682],
        [-21.167342,-47.804416],
        [-23.503742,-46.313755],
        [-19.894613,-43.660694],
        [-25.459935,-49.280018],
        [-22.9046521,-42.7957405],
        [-19.901941,-44.070015],
        [38.745081,-9.210871],
        [-21.207992,-50.4390225],
        [-25.345137,-49.241078],
        [-23.196959,-47.2741462],
        [-22.732395,-43.393171],
        [-21.9955804,-47.8645786],
        [-9.36842,-40.485726],
        [-23.5096421,-46.621387],
        [-22.8219014,-43.0309252],
        [-22.915185,-43.181887],
        [41.3946777,-1.3862597],
        [-23.8660384,-51.8563711],
        [-22.108289,-43.193106],
        [-29.823182,-51.136124],
        [-20.541404,-49.326989],
        [-22.786509,-43.346134],
        [-25.3566111,-49.1527516],
        [-20.8125851,-49.3804212],
        [-20.285584,-40.392637],
        [-19.840297,-44.1533191],
        [-23.494468,-48.412063],
        [-26.905166,-48.684945],
        [-21.6033611,-48.3660603],
        [-22.8280158,-45.2193463],
        [-20.453755,-45.433914],
        [-7.091432,-40.026544],
        [-22.775415,-43.302629],
        [-7.1466905,-34.8883577],
        [14.871225800000001,120.25709740366639],
        [-15.7055184,-44.0205143],
        [-22.8043744,-43.3724125],
        [-22.8854,-43.1179],
        [-22.5610418,-55.6888974],
        [-17.739991,-46.181197],
        [-21.7546,-41.3242],
        [-22.8111632,-47.1740918],
        [-5.9906164,-37.94387],
        [-7.6546838,-40.1524678],
        [-20.128008,-40.273738],
        [-2.5704573,-44.1811252],
        [2.7974444,-60.6858493],
        [-21.839733,-45.300483],
        [-23.390434,-51.446174],
        [-16.210569,-44.43084],
        [-26.57533,-49.150218],
        [-3.830157,-38.439027],
        [-29.5051575,-51.9640789],
        [-29.7272812,-53.1779192],
        [-27.039999,-49.620915],
        [-20.466012,-41.981422],
        [-21.068483,-47.295313],
        [-21.309333,-46.727419],
        [-16.3627422,-48.944536],
        [-22.4080573,-51.5251755],
        [-22.9110137,-43.2093727],
        [-8.229346,-35.482065],
        [-23.5628187,-46.2216356],
        [-7.1944263,-34.887206036161224],
        [-34.4657532,-57.8429075],
        [-21.2510972,-44.9898355],
        [-30.0002417,-51.1093016],
        [-23.5506507,-46.6333824],
        [-22.8135295,-43.2328977],
        [-22.2070243,-54.7704544],
        [-19.7493514,-47.8944463],
        [-7.3607808,-39.0487878],
        [-25.5677558,-49.1914312],
        [-20.265355,-50.540451],
        [-25.5607471,-49.2566087],
        [-19.6856299,-44.8949633],
        [-22.887258,-46.782621],
        [-26.3044898,-48.8486726],
        [-25.305005,-54.078575],
        [-3.813577,-38.5632003],
        [-23.4973268,-46.5491115],
        [-12.79889,-46.65861],
        [-19.750833,-47.936666],
        [-22.8844877,-47.2061276],
        [-25.3423965,-49.2485896],
        [-22.1979725,-47.3870758],
        [-20.6494192,-41.9080693],
        [-5.8578763,-35.21052865673974],
        [-8.412002,-37.065028],
        [-16.593186,-49.348246],
        [-26.612804,-48.695238],
        [-23.650824,-46.448463],
        [22.8892,-104.49107],
        [-23.5427842,-46.3108391],
        [-25.5441126,-49.2887852],
        [-23.5568222,-46.2030495],
        [-4.9490431,-37.127002],
        [-24.010402,-46.4149239],
        [-22.18255725,-47.383030618887325],
        [-6.966657,-34.839803],
        [-23.44706925,-46.70212852378471],
        [-23.5513025,-46.2648624],
        [-23.3176932,-46.1095742],
        [-9.899383,-36.356207],
        [-13.8604033,-40.0719627],
        [-7.401687,-35.108615],
        [-9.051948,-35.398653],
        [-23.041419,-47.014979],
        [-23.58914,-48.062042],
        [-16.5939155,-49.3161392],
        [-14.857038,-40.823339],
        [-7.806038,-40.965152],
        [-21.2276094,-45.0019554],
        [-23.046845,-46.3005],
        [-23.7795965,-45.3552069],
        [-21.734272,-43.325363],
        [-16.7179425,-49.257767],
        [-23.644789,-46.763345],
        [-5.181971,-37.335179],
        [-22.291165,-45.927356],
        [-20.0214251,-44.0621506],
        [-20.0214251,-44.0621506],
        [-10.844622,-37.130984],
        [-23.5537813,-46.3805638],
        [-23.568393,-48.041205],
        [-23.737774,-46.565822],
        [-22.922401,-43.197416],
        [-26.926095,-48.9428966],
        [-18.435369,-49.219529],
        [-15.8419933,-48.0281208],
        [-7.205579,-39.321489],
        [-5.1884706,-39.2804583],
        [-23.455588,-52.053638],
        [-25.3731851,-49.3527746],
        [-23.4675941,-46.5277704],
        [-18.539494,-44.604091],
        [-23.487828,-46.623832],
        [-16.257886,-49.986326],
        [-27.374572,-53.755504],
        [-31.3314264,-54.1062808],
        [-3.37,-43.42528],
        [-27.4961277,-48.6542432],
        [-22.3762475,-48.3822334],
        [-25.4019009,-49.2468609],
        [-25.4026066,-52.4068184],
        [-11.377131,-40.014376],
        [-22.8520529,-43.0813956],
        [-23.597451696017217,-46.663357743684706],
        [-21.4036919,-48.4950417],
        [-25.5412736,-49.18646],
        [-20.8677862,-48.2996139],
        [-3.489196,-39.576825],
        [-22.9185252,-43.1759151],
        [-16.674551,-49.303598],
        [-3.965768,-38.529763],
        [-22.6604221,-43.0426162],
        [-25.463135,-49.392713],
        [-22.8082187,-43.0276859],
        [-25.4836189,-49.3398814],
        [-25.5148822,-48.5226695],
        [-12.897505,-38.439919],
        [-22.4929028,-44.1196641],
        [-2.4604157,-54.7613472],
        [-22.7597805,-41.8875267],
        [-29.64863,-50.813863],
        [-7.83634,-34.906413],
        [-25.444818,-49.314861],
        [-12.666825,-39.097444],
        [-24.5628202,-51.327049],
        [-6.4249687,-43.9875052],
        [-30.897576,-55.492669],
        [-1.3373086,-48.4220159],
        [-22.9330295,-43.2610151],
        [-25.4295963,-49.2712724],
        [-20.1368583,-48.7066819],
        [-25.3549589,-49.1089516],
        [-3.1079913,-60.0436473],
        [-23.9902133,-46.3948113],
        [-25.567360700000002,-49.12817766021739],
        [-12.9822499,-38.4812772],
        [-23.1488227,-45.90366563200857],
        [-25.682569,-49.53457],
        [-27.2369567,-48.6333324],
        [-25.4086485,-49.2042335],
        [-8.007315,-34.859597],
        [-25.4234602,-49.1936193],
        [-23.2957157,-50.0778957],
        [-23.5111916,-46.3767218],
        [-23.603674,-46.513315],
        [-23.0963713,-47.6994173],
        [-22.9056391,-47.059564],
        [-25.8014425,-48.5383289],
        [-25.452708,-49.19912],
        [-25.35711,-49.276601],
        [-23.2110713,-47.5247163],
        [-23.436572,-46.789331],
        [-23.3998166,-45.6620726],
        [-22.248901,-50.70269],
        [-4.2292081,-41.090381],
        [-30.1130731,-51.329442],
        [-22.303308,-48.449162],
        [-18.8954365,-41.9759543],
        [-7.929576,-34.8679065],
        [-21.167342,-47.804416],
        [33.932315,-117.402387],
        [-31.328854,-54.113438],
        [-20.096188,-44.041361],
        [-25.4295963,-49.2712724],
        [-11.8465848,-40.7957297],
        [-25.437482,-49.265766],
        [-20.6596107,-43.785743],
        [-16.674551,-49.303598],
        [-8.657914,-36.329336],
        [-21.136721,-48.959102],
        [-26.252713,-48.611763],
        [-25.436021,-49.154404],
        [-27.592266,-48.623524],
        [-29.743454,-50.016251],
        [-20.3545348,-41.52773234231276],
        [-9.6602717,-35.7225616],
        [-10.278912,-36.556461],
        [-22.935024,-43.518246],
        [12.5062,124.5999],
        [-29.8229126,-53.3702451],
        [-20.8400156,-42.653352],
        [-20.6866765,-42.6187131],
        [-15.957873,-44.87038],
        [-14.6407979,-39.5496765],
        [-24.4610043,-47.9383925],
        [-25.432569700000002,-49.33114777522454],
        [-22.7963629,-49.284654],
        [-23.7400817,-46.6558899],
        [37.0669289,14.8191632],
        [-23.5294719,-46.8560323],
        [-21.1776315,-47.8100983],
        [-5.7854239,-37.5476128],
        [-22.465340050000002,-48.98856943729149],
        [-8.52602155,-35.00771825532908],
        [-21.879036,-42.687587],
        [-23.5310023,-46.3535775],
        [-27.3445299,-53.3993859],
        [-25.471411,-49.279428],
        [-21.9669547,-46.7947077],
        [-11.8577512,-55.496788],
        [-30.0482234,-52.8901686],
        [-2.900704,-40.860652],
        [-23.817047199999998,-45.40813922776782],
        [-25.4469007,-49.1994712],
        [-28.495759,-48.778244],
        [-6.2607263,-38.4425693],
        [-9.621583,-36.762319],
        [-10.4288437,-45.1632302],
        [-25.502659,-49.3144723],
        [-21.407378,-42.190484],
        [-23.48968,-46.8054546],
        [-20.7893775,-49.3978871],
        [-16.6857691,-49.1160729],
        [-25.327696,-49.066667],
        [-22.5615068,-47.401766],
        [-22.6155175,-48.786563],
        [-10.4065104,-65.3385452],
        [-20.41931,-54.602976],
        [-22.8742353,-43.2842839],
        [-20.2780243,-50.2611533],
        [-34.920465,-54.948901],
        [-12.952565,-38.491787],
        [-22.755626,-42.864629],
        [-21.9995927,-49.4504048],
        [-23.631696,-49.31235],
        [-18.732898,-39.7551221],
        [-25.4559119,-49.18914],
        [-22.3261931,-41.7285894],
        [-23.656077,-47.212225],
        [-25.36348395,-49.44605895],
        [-6.190106,-35.356288],
        [-19.750833,-47.936666],
        [-27.8320626,-50.3580215],
        [-24.101341,-49.325411],
        [-20.5006803,-54.6653328],
        [-3.625597,-39.507983],
        [-23.3504006,-47.6972763],
        [27.858698,-82.716251],
        [-25.4882066,-49.2164271],
        [-22.228108,-54.796928],
        [-14.459933,-48.454404],
        [-12.8803869,-38.3586801],
        [-25.459935,-49.280018],
        [-23.571878,-46.518648],
        [-23.120006,-46.480427],
        [-22.291405,-48.560258],
        [-26.438019,-49.067170910638296],
        [-7.5118822,-35.316076],
        [-22.887258,-46.782621],
        [-15.903816,-47.758021],
        [-7.174731,-34.858889],
        [-6.7449764,-51.0726339],
        [-10.163485,-48.351383],
        [-21.943245,-48.001253],
        [-21.021308,-45.1817881],
        [-22.726463,-43.452727],
        [-22.6565442,-52.8589113],
        [-23.37139,-48.181825],
        [-22.0180395,-47.891154],
        [-19.9227318,-43.9450948],
        [-5.803737,-35.218408],
        [-22.020577,-47.893049],
        [-22.99199,-44.2411897],
        [-11.302071,-41.987414],
        [-23.6533509,-46.5279039],
        [-25.40327,-49.175402],
        [-25.5196895,-49.2083497],
        [-23.7672713,-46.6847759],
        [-8.360984,-36.560331],
        [-20.1531736,-44.2018934],
        [-23.043214,-47.833182],
        [-19.968056,-44.198333],
        [-22.224707,-49.654042],
        [-12.88538,-38.480721],
        [-28.534668,-50.337367],
        [-16.825792,-49.242475],
        [-22.4872835,-44.1176131],
        [41.357614,-8.754792],
        [-4.655476,-40.202145],
        [-25.3799483,-49.271896],
        [-29.932426,-51.0052956],
        [-20.3350285,-40.4038147],
        [40.6434305,-7.9120349],
        [-23.451749,-46.622919],
        [-11.8600312,-40.4719718],
        [-9.6602439,-35.7534424],
        [-22.394582,-47.569073],
        [-7.748394,-38.000687],
        [-25.573548,-49.420967],
        [-23.5234284,-46.1926671],
        [-22.945043,-47.312182],
        [-9.586623,-35.964426],
        [-5.7932331,-35.3286312],
        [-29.700966700000002,-53.80154365],
        [-22.783584,-43.042472],
        [-21.777239,-47.081617],
        [-22.8975543,-43.2394281],
        [-12.284468,-55.29749],
        [-27.5687888,-48.6406071],
        [-21.023344,-47.380253],
        [-12.427999,-64.231011],
        [-22.692853,-46.559147],
        [-7.449667,-35.2426004],
        [42.845473999999996,-8.524625018363178],
        [-23.4062538,-46.5174377],
        [-5.2074435,-37.2957538],
        [-5.2074435,-37.2957538],
        [-20.392197,-44.482253],
        [-21.2983607,-50.352678060010035],
        [-6.4437601,-46.1905789],
        [-3.7047856,-38.5817178],
        [-23.676185,-46.637141],
        [-29.164732,-51.173508],
        [-23.547955,-46.63494],
        [-12.9766383,-38.4937726],
        [-23.10629,-45.70764],
        [-25.5027495,-49.2539328],
        [-22.5075743,-43.1785356],
        [-19.8912375,-44.0336049],
        [-22.999878,-46.838369],
        [-23.5656632,-46.6716056],
        [-25.4050456,-49.28682352429752],
        [31.84588695,-7.078152567931459],
        [-23.382065,-46.44956],
        [-29.622681,-52.184954],
        [-25.460542,-49.285901],
        [-22.590032,-47.507252],
        [-22.889422,-42.042863],
        [-2.878439,-40.954983],
        [-28.2550598,-52.3966606],
        [-22.752441,-51.656018],
        [-24.001936,-46.439557],
        [-32.05579,-52.13092],
        [-5.834387,-45.372695],
        [-20.4226107,-50.0861511],
        [-22.768055,-43.400563],
        [-22.875689,-47.216496],
        [-22.87926,-43.094435],
        [-12.934616,-38.487018],
        [-13.513186,-40.057078],
        [-6.7756797,-39.9873337],
        [-19.3816944,-40.0612213],
        [45.7209902,9.7050081],
        [-7.2249582,-39.3963863],
        [-7.2219957,-39.4268087],
        [-24.0079318,-46.4391048],
        [-20.2369954,-40.2869318],
        [-22.875689,-47.216496],
        [-14.0218614,-49.1776221],
        [-18.0352484,-41.6724962],
        [-23.434933,-45.0991533],
        [38.02514,12.5484],
        [-23.504678,-46.202374],
        [-23.547955,-46.63494],
        [-30.18084,-51.170937],
        [-22.278705,-42.533118],
        [-27.1737204,-51.5065214],
        [-2.563262,-44.28229],
        [-21.7740507,-47.0872689],
        [-16.6137404,-42.1835284],
        [-20.282223,-45.539444],
        [-22.144816,-44.092327],
        [-20.4210481,-54.6346517],
        [-23.556636,-46.506858],
        [-23.9399854,-46.2929438],
        [-28.4732801,-49.0067277],
        [-15.810666,-47.958074],
        [-25.459935,-49.280018],
        [-13.8433336,-40.0738909],
        [-23.004411,-45.5379492],
        [-25.459935,-49.280018],
        [-8.2752089,-35.9867759],
        [-25.3662703,-49.2226009],
        [-8.1752476,-34.9468716],
        [-22.668104,-47.659213],
        [-25.2608275,-53.5758136],
        [-29.1215733,-51.1105094159562],
        [-19.7344649,-47.9694039],
        [-22.45578,-44.436872],
        [-23.6207082,-46.81761],
        [-5.132103,-38.408657],
        [-22.8580778,-43.6189499],
        [-8.502085399999999,-36.77084761627061],
        [-15.965833,-41.496666],
        [49.5889011,18.1436622696258],
        [-21.595288,-46.887303],
        [-19.899312,-43.675156],
        [-23.658417,-46.782974],
        [-22.7608161,-43.4498306],
        [-19.829373,-42.309335],
        [-22.8967679,-43.17791995887312],
        [-22.4164578,-42.975194],
        [-18.923487,-48.276092],
        [-25.4187656,-49.2459724],
        [-5.083403,-48.4299175],
        [-25.490701,-49.309305]
    ];

    useEffect(() => {

        if (map.current) return; // initialize map only once
        map.current = new mapboxgl.Map({
            container: mapContainer.current,
            style: 'mapbox://styles/mapbox/satellite-streets-v12',
            center: [lng, lat],
            zoom
        });

        map.current.addControl(new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true,
            showUserHeading: true
        }));

        map.current.on('load', function () {
            map.current.resize();
        });

        address.map((i,k) => {
            return new mapboxgl.Marker({
                color: "#FFFFFF",
                draggable: true
            }).setLngLat([i[1],i[0]]).addTo(map.current);
        });

    });

    return (
        <div style={{minWidth: '100%'}}>
            <div ref={mapContainer} className="map-container"/>
        </div>
    );
}

export default MapaClientes;
